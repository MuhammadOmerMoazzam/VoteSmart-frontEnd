<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Poll</title>
    <link rel="stylesheet" href="createpoll.css">
    <script src="/script.js" defer></script> <!-- Link to the external JS -->
    <link rel="icon" href="/icon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <nav>
          <div class="left">
            <img
              onclick="location.href='/index.html'"
              src="/images/VoteSmart-logo.png"
              alt="VoteSmart-logo"
            />
          </div>
          <div class="center">
            <ul>
              <li><a href="createpoll.html">Services</a></li>
              <li><a href="aboutus.html">About Us</a></li>
              <li><a href="contactus.html">Contact Us</a></li>
            </ul>
          </div>
          <div class="right">
            <div id="auth-buttons">
              <button
                onclick="location.href='/pages/loginandsignup.html?form=signup'"
                class="navbuts"
                id="signupBtn"
              >
                Sign Up
              </button>
              <button
                onclick="location.href='/pages/loginandsignup.html?form=signin'"
                class="navbuts"
                id="signinBtn"
              >
                Sign In
              </button>
            </div>
            <div id="profileIcon" class="hidden">
              <img
                src="/images/profile.png"
                alt="Profile"
                class="profile-circle"
                onclick="redirectToProfile()"
              />
            </div>
          </div>
        </nav>
      </header>

      <div id="chatbot">
        <!-- Chat Icon -->
        <div id="chat-icon" onclick="toggleChat()">
            üí¨
        </div>
    
        <!-- Chat Window -->
        <div id="chat-window" class="hidden">
            <div id="chat-header">
                <span>VoteSmart Virtual Assistant</span>
                <button id="close-btn" onclick="toggleChat()">X</button>
            </div>
            <div id="chat-messages">
                <div class="bot-message">Hi! How can I help you today? üòÅ</div>
            </div>
            <div id="predefined-questions">
                <button onclick="sendPredefinedMessage('How to create a poll?')">How to create a poll?</button>
                <button onclick="sendPredefinedMessage('How to vote?')">How to vote?</button>
                <button onclick="sendPredefinedMessage('Can I vote twice?')">Can I vote twice?</button>
            </div>
            <div id="chat-input-area">
                <input type="text" id="user-input" placeholder="Type your message here...">
                <button id="send-btn" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>
    
    <div class="container">
      <h1>Create a Poll</h1>
      <form id="pollForm">
          <div class="form-group">
              <label for="title">Poll Title:</label>
              <input type="text" id="title" name="title" required>
          </div>
          <div class="form-group">
              <label for="description">Description:</label>
              <textarea id="description" name="description" rows="3" required></textarea>
          </div>
          <div class="form-group">
              <label for="pollType">Poll Type:</label>
              <select id="pollType" name="pollType" onchange="toggleDomainField()">
                  <option value="general">General Poll</option>
                  <option value="domain_specific">Domain Specific Poll</option>
              </select>
          </div>
  
          <!-- Domain Field (visible when Domain Specific poll is selected) -->
          <div id="domainField" style="display: none;" class="form-group">
              <label for="allowedDomain">Allowed Domain:</label>
              <input type="text" id="allowedDomain" name="allowedDomain" placeholder="Enter domain (e.g., yourdomain.com)">
          </div>
  
          <div id="candidatesSection">
              <h3>Candidate Information</h3>
              <div class="candidate-info">
                  <div class="form-group">
                      <label for="candidateName">Name:</label>
                      <input type="text" name="candidateName[]" required>
                  </div>
  
                  <div class="form-group">
                      <label for="candidateDescription">Description:</label>
                      <textarea name="candidateDescription[]" rows="2" required></textarea>
                  </div>
                  <button type="button" class="remove-btn">Remove</button>
              </div>
          </div>
          <button type="button" id="addOptionBtn">Add More Options</button>
          <div class="form-group">
              <button type="submit">Create Poll</button>
          </div>
      </form>
  </div>
  
    <!-- Add this modal in your HTML body just before the closing </body> tag -->
    <div id="popupModal" class="popup-modal">
      <div class="popup-content">
        <span class="popup-close">&times;</span>
        <p id="popupMessage"></p>
        <div class="url-container">
          <input id="popupURL" type="text" readonly />
          <button id="copyButton" onclick="copyToClipboard()">Copy</button>
        </div>
      </div>
    </div>
       
</body>
</html>
